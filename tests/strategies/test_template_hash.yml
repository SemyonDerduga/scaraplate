
strategy: TemplateHash

testcases:
  - name: non_existing_target
    template: |
      from template!
    target: null
    out: |
      from template!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111

  - name: existing_target_without_hash
    template: |
      from template!
    target: |
      from target!
    out: |
      from template!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111

  - name: existing_target_with_current_hash
    template: |
      from template!
    target: |
      from target!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111
    out: |
      from target!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111

  - name: existing_target_with_different_hash
    template: |
      from template!
    target: |
      from target!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/0000000000000000000000000000000000000000
    out: |
      from template!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # From https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111

  - name: existing_target_with_current_hash_dirty
    template: |
      from template!
    target: |
      from target!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # From (dirty) https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111
    is_git_dirty: True
    out: |
      from template!

      # Generated by https://github.com/rambler-digital-solutions/scaraplate
      # From (dirty) https://github.com/rambler-digital-solutions/scaraplate-example-template/commit/1111111111111111111111111111111111111111

